---
import { getLangFromUrl, useTranslations } from '@i18n/utils';
const lang = getLangFromUrl(Astro.url);
const GETFORMSKEY = import.meta.env.VITE_GETFORM_KEY;
const translateString = useTranslations(lang);
---

<div class="w-full">
	<form action=`https://getform.io/f/${GETFORMSKEY}` class="rounded-sm" method="POST">
		<div class="mb-4 ">
			<label class="block text-sm font-bold mb-2" for="form-name">
				{translateString('formName')}
			</label>
			<input class="appearance-none bg-m-beige border rounded-sm w-full py-2 px-3 text-m-blue focus:outline-hidden focus:shadow-outline" id="form-name" type="text" name="name" required>
		</div>
		<div class="mb-4">
			<label class="block text-sm font-bold mb-2" for="form-email">
				{translateString('formEmail')}
			</label>
			<input class="appearance-none bg-m-beige border rounded-sm w-full py-2 px-3 text-m-blue focus:outline-hidden focus:shadow-outline" id="form-mail" type="email" name="email" required>
		</div>
		<div class="mb-4">
			<label class="block text-sm font-bold mb-2" for="form-quote">
				{translateString('formQuote')}
			</label>
			<div class="inline-block relative w-full">
				<select class="block appearance-none bg-m-beige border rounded-sm w-full py-2 px-3 text-m-blue focus:outline-hidden focus:shadow-outline" id="form-quote" name="quote" required>
					<option value="basic">2000€</option>
					<option value="medium">2000 - 5000€</option>
					<option value="business">+5000€</option>
				</select>
				<div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-m-blue">
					<svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
				</div>
			</div>
		</div>
		<input type="hidden" name="_gotcha" class="hidden">
		<div class="mb-4">
			<label class="block text-sm font-bold mb-2" for="form-message">
				{translateString('formMessage')}
			</label>
			<textarea class="appearance-none border rounded-sm w-full py-2 px-3 text-m-blue focus:outline-hidden focus:shadow-outline" name="message" id="form-message" minlength="20"></textarea>
		</div>
		<button type="submit" class="text-white bg-m-orange rounded-sm hover:bg-m-blue-600 focus:outline-hidden font-medium dark:bg-m-orange text-xs lg:text-sm px-5 py-2.5 my-2 w-full">
			{translateString('formSend')}
		</button>
	</form>
</div>